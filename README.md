# Тема кадры функций +gdb

Имеется программа (исходный код которой приводится ниже, компилировать с ключами: -fno-stack-protector -no-pie). Вам необходимо произвести анализ программы с помощью отладчика для выяснения длины массива для ввода пароля и адреса ветки условия проверки корректности ввода пароля, которая выполняется при условии совпадения паролей.Ввести пароль (строку символов)таким образом, чтобы перезаписать адрес возврата на выясненный адрес (есть символы которые нельзя ввести с клавиатуры, поэтому можно использовать перенаправление ввода(<) при запуске программы).

```
#include <stdio.h>
#include <string.h>
#include <stdlib.h>

int IsPassOk(void);

int main(void){
  int PwStatus;

  puts("Enter password:");

  PwStatus = IsPassOk();

  if (PwStatus == 0) {
    printf("Bad password!\n");
    exit(1);
  } else {
    printf("Access granted!\n"); // Строка для которой нужно выяснить адрес
  }
  return 0;
}

int IsPassOk(void){
  char Pass[12];
  gets(Pass);
  return 0 == strcmp(Pass, "test");
}
```
## Компиляция
![image](https://github.com/RusakovD3/hw5_el/assets/103295869/e8e3deb8-6a78-4114-ac24-e0a90eaa77a5)


## Disassemble
![image](https://github.com/RusakovD3/hw5_el/assets/103295869/6e21bb24-a73c-4987-af97-c0a32804ada8)


Нужно изменить адрес возврата на 0x00005555555551eb (адрес успешно подобраного пароля)

Для этого при помощи файла hack.c я создаю бинарный файл и заполняю его 20 "мусорными" символами (12 на заполнение массива + 8 на пререзатерание сохраненного адреса rbp) и затем ещё 8 байтами адреса (перезатераю адрес возврата на свой). 

![result](https://github.com/RusakovD3/hw5_el/assets/103295869/3e196ff0-911b-462d-990e-ab65725abf8a)
